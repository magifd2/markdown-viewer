<!DOCTYPE html>
<html>
<head>
    <title>{{ .Title }}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <style>
		/* Basic GitHub-like styling */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; line-height: 1.6; color: #24292e; max-width: 1140px; margin: 40px auto; padding: 20px; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1, h2, h3, h4, h5, h6 { font-weight: 600; border-bottom: 1px solid #eaecef; padding-bottom: .3em; }
        code { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; background-color: rgba(27,31,35,.05); padding: .2em .4em; margin: 0; font-size: 85%; border-radius: 3px; }
        pre { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: #f6f8fa; border-radius: 3px; }
        pre code.hljs { background-color: transparent; padding: 0; margin: 0; font-size: 100%; border: 0; }
		blockquote { color: #6a737d; border-left: .25em solid #dfe2e5; padding: 0 1em; margin-left: 0; }
		table { border-collapse: collapse; width: 100%; margin-top: 1em; margin-bottom: 1em; }
		th, td { border: 1px solid #dfe2e5; padding: 8px 13px; }
        th { font-weight: 600; background-color: #f6f8fa; }
    </style>
</head>
<body>
    {{ .Content }}
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
	<script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Mermaid Rendering ---
            document.querySelectorAll('pre code.language-mermaid').forEach(function(element) {
                element.parentElement.outerHTML = '<div class="mermaid">' + element.textContent + '</div>';
            });
            mermaid.initialize({startOnLoad:true});

            // --- Syntax Highlighting ---
            hljs.highlightAll();

            // --- External Link Confirmation ---
            document.querySelectorAll('a.external-link').forEach(function(link) {
                link.addEventListener('click', function(event) {
                    event.preventDefault();
                    const url = this.getAttribute('data-href');
                    const message = "You are about to open an external link:\n\n" + url + "\n\nDo you want to continue?";
                    if (window.confirm(message)) {
                        window.open(url, '_blank');
                    }
                });
            });
        });
	</script>
</body>
</html>
